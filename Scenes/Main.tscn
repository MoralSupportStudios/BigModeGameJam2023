[gd_scene load_steps=17 format=3 uid="uid://c8ha40gifns63"]

[ext_resource type="Script" path="res://Scripts/Main.cs" id="1_gr5jo"]
[ext_resource type="Script" path="res://Scripts/Mob.cs" id="2_fgxa1"]
[ext_resource type="PackedScene" uid="uid://dfcwy876ohq07" path="res://Scenes/Player.tscn" id="3_ohotn"]
[ext_resource type="Script" path="res://Scripts/EnemySpawner.cs" id="4_vwa7w"]
[ext_resource type="PackedScene" uid="uid://b74nept1ac6dx" path="res://Scenes/Enemy.tscn" id="5_q3jeo"]
[ext_resource type="PackedScene" uid="uid://cq5mwrshkfgnq" path="res://Scenes/HUD.tscn" id="6_i20od"]
[ext_resource type="AudioStream" uid="uid://b52g08a12bwn6" path="res://Sounds/Overworld.mp3" id="7_gmx0i"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_mhw0q"]
load_path = "res://.godot/imported/enemyFlyingAlt_1.png-3f4f40f167908317f0ce115c41c877ce.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_r3p4f"]
load_path = "res://.godot/imported/enemyFlyingAlt_2.png-43a27f9e2c8b711ac1c7d6da959e91d1.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_1p13s"]
load_path = "res://.godot/imported/enemySwimming_1.png-5a3060be808c543f3727cae4bfc1f20a.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_0way0"]
load_path = "res://.godot/imported/enemySwimming_2.png-3f6994ae03f3efa55de166398d826057.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_7sshd"]
load_path = "res://.godot/imported/enemyWalking_1.png-a91320033a6ff1f8bb3b24a05de5776f.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_vorqu"]
load_path = "res://.godot/imported/enemyWalking_2.png-04f048317065d9b7dd9b53327486eecc.ctex"

[sub_resource type="SpriteFrames" id="SpriteFrames_m13o0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_mhw0q")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_r3p4f")
}],
"loop": true,
"name": &"fly",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_1p13s")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_0way0")
}],
"loop": true,
"name": &"swim",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_7sshd")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_vorqu")
}],
"loop": true,
"name": &"walk",
"speed": 3.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_xr0cn"]
radius = 56.0
height = 128.0

[sub_resource type="PackedScene" id="PackedScene_1ekjm"]
_bundled = {
"conn_count": 0,
"conns": PackedInt32Array(),
"editable_instances": [],
"names": PackedStringArray("Mob", "RigidBody2D", "mobs", "collision_mask", "gravity_scale", "script", "metadata/_edit_group_", "AnimatedSprite2D", "AnimatedSprite2D", "sprite_frames", "animation", "metadata/_edit_group_", "CollisionShape2D", "CollisionShape2D", "shape", "metadata/_edit_group_", "VisibleOnScreenNotifier2D", "VisibleOnScreenNotifier2D", "metadata/_edit_group_"),
"node_count": 4,
"node_paths": [NodePath("."), NodePath("."), NodePath(".")],
"nodes": PackedInt32Array(-1, -1, 1, 0, -1, 4, 3, 0, 4, 1, 5, 2, 6, 3, 1, 2, 1073741824, 0, 8, 7, -1, 3, 9, 4, 10, 5, 11, 6, 0, 1073741825, 0, 13, 12, -1, 2, 14, 7, 15, 8, 0, 1073741826, 0, 17, 16, -1, 1, 18, 9, 0),
"variants": [0, 0.0, ExtResource("2_fgxa1"), true, SubResource("SpriteFrames_m13o0"), &"swim", true, SubResource("CapsuleShape2D_xr0cn"), true, true],
"version": 3
}

[node name="Main" type="Node"]
script = ExtResource("1_gr5jo")
MobScene = SubResource("PackedScene_1ekjm")

[node name="Player" parent="." instance=ExtResource("3_ohotn")]
position = Vector2(704, 360)

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="EnemySpawner" type="Node2D" parent="Player/Camera2D" node_paths=PackedStringArray("SpawnPoints")]
position = Vector2(-632, -320)
script = ExtResource("4_vwa7w")
EnemyScene = ExtResource("5_q3jeo")
SpawnPoints = [NodePath("SpawnPoint"), NodePath("SpawnPoint2"), NodePath("SpawnPoint3"), NodePath("SpawnPoint4"), NodePath("SpawnPoint5"), NodePath("SpawnPoint6"), NodePath("SpawnPoint7"), NodePath("SpawnPoint8")]
EnemyPerSeconds = 2.0

[node name="SpawnPoint" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(-8, -96)

[node name="SpawnPoint2" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(1288, 8)

[node name="SpawnPoint3" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(1280, 728)

[node name="SpawnPoint4" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(8, 720)

[node name="SpawnPoint5" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(632, -104)

[node name="SpawnPoint6" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(632, 728)

[node name="SpawnPoint7" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(1288, 344)

[node name="SpawnPoint8" type="Node2D" parent="Player/Camera2D/EnemySpawner"]
position = Vector2(-24, 344)

[node name="ScoreTimer" type="Timer" parent="."]

[node name="StartTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="HealthIncreaseTimer" type="Timer" parent="."]
wait_time = 10.0

[node name="StartPosition" type="Marker2D" parent="."]
position = Vector2(640, 320)

[node name="HUD" parent="." instance=ExtResource("6_i20od")]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("7_gmx0i")
volume_db = 1.0
autoplay = true

[connection signal="Hit" from="Player" to="." method="GameOver"]
[connection signal="timeout" from="ScoreTimer" to="." method="OnScoreTimerTimeout"]
[connection signal="timeout" from="StartTimer" to="." method="OnStartTimerTimeout"]
[connection signal="timeout" from="HealthIncreaseTimer" to="." method="OnHealthIncreaseTimerTimeout"]
[connection signal="StartGame" from="HUD" to="." method="NewGame"]
